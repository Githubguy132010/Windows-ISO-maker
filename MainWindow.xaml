<ui:FluentWindow
    x:Class="Windows_ISO_Maker.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="Windows ISO Maker"
    Height="650" Width="900"
    MinHeight="550" MinWidth="800"
    WindowBackdropType="Mica"
    WindowStartupLocation="CenterScreen"
    ExtendsContentIntoTitleBar="True">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <ui:TitleBar
            Title="Windows ISO Maker"
            Grid.Row="0">
            <ui:TitleBar.Icon>
                <ui:SymbolIcon Symbol="WindowDev" />
            </ui:TitleBar.Icon>
        </ui:TitleBar>

        <Grid x:Name="MainContent" Grid.Row="1" Margin="12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Margin="0,0,0,20">
                <TextBlock
                    Text="Windows ISO Customization"
                    FontSize="24"
                    FontWeight="Medium"
                    Margin="0,0,0,12"/>
                <TextBlock
                    Text="Create customized Windows installation media with your preferred drivers and settings"
                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"/>
            </StackPanel>

            <ui:Card Grid.Row="1">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <ui:Button
                        Grid.Row="0"
                        Appearance="Primary"
                        Icon="OpenFolder24"
                        Content="Select Windows ISO"
                        Margin="0,0,0,12"
                        HorizontalAlignment="Left"
                        Click="SelectIsoButton_Click"/>

                    <ui:Button
                        Grid.Row="1"
                        Icon="FolderAdd24"
                        Content="Add Drivers"
                        Margin="0,0,0,12"
                        HorizontalAlignment="Left"
                        Click="AddDriversButton_Click"/>

                    <ui:CardExpander
                        Grid.Row="2"
                        Icon="Settings24"
                        Content="Advanced Options"
                        Margin="0,0,0,12">
                        <StackPanel>
                            <CheckBox Content="Enable Windows Recovery Environment" Margin="0,0,0,8"/>
                            <CheckBox Content="Keep original ISO options" Margin="0,0,0,8"/>
                            <CheckBox Content="Add custom boot logo" Margin="0,0,0,8"/>
                        </StackPanel>
                    </ui:CardExpander>

                    <ui:Button
                        Grid.Row="3"
                        Appearance="Success"
                        Icon="Play24"
                        Content="Create Custom ISO"
                        HorizontalAlignment="Left"
                        Click="CreateIsoButton_Click"/>

                    <StackPanel 
                        Grid.Row="4" 
                        Margin="0,12,0,0">
                        <ui:ProgressBar
                            x:Name="ProgressBar"
                            Value="0"
                            Maximum="100"
                            Visibility="Collapsed"
                            Margin="0,0,0,8"/>
                        <StackPanel 
                            Orientation="Vertical" 
                            VerticalAlignment="Center">
                            <StackPanel 
                                Orientation="Horizontal" 
                                VerticalAlignment="Center"
                                Margin="0,0,0,4">
                                <ui:ProgressRing
                                    IsIndeterminate="True"
                                    Name="ProgressRing"
                                    Visibility="Collapsed"
                                    Margin="0,0,12,0"/>
                                <TextBlock 
                                    Name="StatusText" 
                                    Text="Ready"
                                    VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock 
                                Name="DownloadComponentText" 
                                Text=""
                                Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                Visibility="Collapsed"
                                VerticalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </ui:Card>
        </Grid>
    </Grid>
</ui:FluentWindow>